{"ast":null,"code":"import * as i0 from '@angular/core';\nimport { Directive, EventEmitter, Inject, Output, ContentChild, Input, Component, NgModule } from '@angular/core';\nimport * as i2 from '@angular/common';\nimport { DOCUMENT, CommonModule } from '@angular/common';\nimport { fromEvent } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\nconst _c0 = [\"*\"];\n\nclass BitDraggingHandleDirective {\n  constructor(elementRef) {\n    this.elementRef = elementRef;\n  }\n\n}\n\nBitDraggingHandleDirective.ɵfac = function BitDraggingHandleDirective_Factory(t) {\n  return new (t || BitDraggingHandleDirective)(i0.ɵɵdirectiveInject(i0.ElementRef));\n};\n\nBitDraggingHandleDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n  type: BitDraggingHandleDirective,\n  selectors: [[\"\", \"dragginghandle\", \"\"]]\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(BitDraggingHandleDirective, [{\n    type: Directive,\n    args: [{\n      selector: \"[dragginghandle]\"\n    }]\n  }], function () {\n    return [{\n      type: i0.ElementRef\n    }];\n  }, null);\n})();\n\nclass BitDraggingDirective {\n  constructor(elementRef, document) {\n    this.elementRef = elementRef;\n    this.document = document;\n    this.subscriptions = [];\n    this.Axis = new EventEmitter();\n    this.X = 0;\n    this.Y = 0;\n  }\n\n  ngAfterViewInit() {\n    var _a, _b;\n\n    this.draggingBoundaryElement = this.document.querySelector(this.boundaryQuery);\n\n    if (!this.draggingBoundaryElement) {\n      throw new Error(\"Couldn't find any element with query: \" + this.boundaryQuery);\n    } else {\n      this.element = this.elementRef.nativeElement;\n      this.handleElement = ((_b = (_a = this.handle) === null || _a === void 0 ? void 0 : _a.elementRef) === null || _b === void 0 ? void 0 : _b.nativeElement) || this.element;\n      this.initDrag();\n    }\n  }\n\n  initDrag() {\n    const dragStart$ = fromEvent(this.handleElement, \"mousedown\");\n    const dragEnd$ = fromEvent(this.document, \"mouseup\");\n    const drag$ = fromEvent(this.document, \"mousemove\").pipe(takeUntil(dragEnd$));\n    let initialX,\n        initialY,\n        currentX = this.X,\n        currentY = this.Y;\n    let dragSub;\n    const minBoundX = this.draggingBoundaryElement.offsetLeft;\n    const minBoundY = this.draggingBoundaryElement.offsetTop;\n    const maxBoundX = minBoundX + this.draggingBoundaryElement.offsetWidth - this.element.offsetWidth;\n    const maxBoundY = minBoundY + this.draggingBoundaryElement.offsetHeight - this.element.offsetHeight;\n    const dragStartSub = dragStart$.subscribe(event => {\n      initialX = event.clientX - currentX;\n      initialY = event.clientY - currentY;\n      this.element.classList.add(\"free-dragging\");\n      dragSub = drag$.subscribe(event => {\n        event.preventDefault();\n        const x = event.clientX - initialX;\n        const y = event.clientY - initialY;\n        currentX = Math.max(minBoundX, Math.min(x, maxBoundX));\n        currentY = Math.max(minBoundY, Math.min(y, maxBoundY));\n        this.Axis.emit({\n          X: currentX,\n          Y: currentY\n        });\n        this.element.style.transform = \"translate3d(\" + currentX + \"px, \" + currentY + \"px, 0)\";\n      });\n    });\n    const dragEndSub = dragEnd$.subscribe(() => {\n      initialX = currentX;\n      initialY = currentY;\n      this.element.classList.remove(\"free-dragging\");\n\n      if (dragSub) {\n        dragSub.unsubscribe();\n      }\n    });\n    this.subscriptions.push.apply(this.subscriptions, [dragStartSub, dragSub, dragEndSub]);\n  }\n\n  ngOnDestroy() {\n    this.subscriptions.forEach(s => s === null || s === void 0 ? void 0 : s.unsubscribe());\n  }\n\n}\n\nBitDraggingDirective.ɵfac = function BitDraggingDirective_Factory(t) {\n  return new (t || BitDraggingDirective)(i0.ɵɵdirectiveInject(i0.ElementRef), i0.ɵɵdirectiveInject(DOCUMENT));\n};\n\nBitDraggingDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n  type: BitDraggingDirective,\n  selectors: [[\"\", \"dragging\", \"\"]],\n  contentQueries: function BitDraggingDirective_ContentQueries(rf, ctx, dirIndex) {\n    if (rf & 1) {\n      i0.ɵɵcontentQuery(dirIndex, BitDraggingHandleDirective, 5);\n    }\n\n    if (rf & 2) {\n      let _t;\n\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.handle = _t.first);\n    }\n  },\n  inputs: {\n    boundaryQuery: \"boundaryQuery\",\n    X: \"X\",\n    Y: \"Y\"\n  },\n  outputs: {\n    Axis: \"Axis\"\n  }\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(BitDraggingDirective, [{\n    type: Directive,\n    args: [{\n      selector: \"[dragging]\"\n    }]\n  }], function () {\n    return [{\n      type: i0.ElementRef\n    }, {\n      type: undefined,\n      decorators: [{\n        type: Inject,\n        args: [DOCUMENT]\n      }]\n    }];\n  }, {\n    Axis: [{\n      type: Output\n    }],\n    handle: [{\n      type: ContentChild,\n      args: [BitDraggingHandleDirective]\n    }],\n    boundaryQuery: [{\n      type: Input\n    }],\n    X: [{\n      type: Input\n    }],\n    Y: [{\n      type: Input\n    }]\n  });\n})();\n\nclass DraggableComponent {\n  constructor() {\n    this.Transform = {\n      transform: 'translate3d(0px,0px,0)',\n      'z-index': 0\n    };\n    this.Boundry = \"body\";\n    this.X = 0;\n    this.Y = 0;\n    this.Z = 0;\n    this.Axis = new EventEmitter();\n  }\n\n  ngAfterViewInit() {\n    this.Transform.transform = `translate3d(${this.X + 'px'},${this.Y + 'px'},0)`;\n    this.Transform['z-index'] = this.Z;\n  }\n\n  GetAxispoint(event) {\n    this.Axis.emit(event);\n  }\n\n}\n\nDraggableComponent.ɵfac = function DraggableComponent_Factory(t) {\n  return new (t || DraggableComponent)();\n};\n\nDraggableComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: DraggableComponent,\n  selectors: [[\"Bit-draggable\"]],\n  inputs: {\n    Boundry: \"Boundry\",\n    X: \"X\",\n    Y: \"Y\",\n    Z: \"Z\"\n  },\n  outputs: {\n    Axis: \"Axis\"\n  },\n  ngContentSelectors: _c0,\n  decls: 2,\n  vars: 4,\n  consts: [[\"dragging\", \"\", \"draggable\", \"true\", 2, \"position\", \"absolute\", 3, \"X\", \"Y\", \"boundaryQuery\", \"ngStyle\", \"Axis\"]],\n  template: function DraggableComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵprojectionDef();\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵlistener(\"Axis\", function DraggableComponent_Template_div_Axis_0_listener($event) {\n        return ctx.GetAxispoint($event);\n      });\n      i0.ɵɵprojection(1);\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵproperty(\"X\", ctx.X)(\"Y\", ctx.Y)(\"boundaryQuery\", ctx.Boundry)(\"ngStyle\", ctx.Transform);\n    }\n  },\n  directives: [BitDraggingDirective, i2.NgStyle],\n  styles: [\"\"]\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(DraggableComponent, [{\n    type: Component,\n    args: [{\n      selector: 'Bit-draggable',\n      template: \"<div dragging draggable=\\\"true\\\" (Axis)=\\\"GetAxispoint($event)\\\" [X]=\\\"X\\\" [Y]=\\\"Y\\\" [boundaryQuery]=\\\"Boundry\\\" [ngStyle]=\\\"Transform\\\" style=\\\"position: absolute;\\\">\\n <ng-content></ng-content>\\n  </div>\",\n      styles: [\"\"]\n    }]\n  }], null, {\n    Boundry: [{\n      type: Input\n    }],\n    X: [{\n      type: Input\n    }],\n    Y: [{\n      type: Input\n    }],\n    Z: [{\n      type: Input\n    }],\n    Axis: [{\n      type: Output\n    }]\n  });\n})();\n\nclass BitdraggableModule {}\n\nBitdraggableModule.ɵfac = function BitdraggableModule_Factory(t) {\n  return new (t || BitdraggableModule)();\n};\n\nBitdraggableModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n  type: BitdraggableModule\n});\nBitdraggableModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n  imports: [[CommonModule]]\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(BitdraggableModule, [{\n    type: NgModule,\n    args: [{\n      declarations: [DraggableComponent, BitDraggingDirective, BitDraggingHandleDirective],\n      imports: [CommonModule],\n      exports: [DraggableComponent, BitDraggingDirective, BitDraggingHandleDirective]\n    }]\n  }], null, null);\n})();\n/*\r\n * Public API Surface of bitdraggable\r\n */\n\n/**\r\n * Generated bundle index. Do not edit.\r\n */\n\n\nexport { BitDraggingDirective, BitDraggingHandleDirective, BitdraggableModule, DraggableComponent };","map":{"version":3,"sources":["C:/Users/Sunil/Desktop/Angular 13/ang13/node_modules/@bitbeast/bitdraggable/fesm2015/bitbeast-bitdraggable.mjs"],"names":["i0","Directive","EventEmitter","Inject","Output","ContentChild","Input","Component","NgModule","i2","DOCUMENT","CommonModule","fromEvent","takeUntil","BitDraggingHandleDirective","constructor","elementRef","ɵfac","ElementRef","ɵdir","type","args","selector","BitDraggingDirective","document","subscriptions","Axis","X","Y","ngAfterViewInit","_a","_b","draggingBoundaryElement","querySelector","boundaryQuery","Error","element","nativeElement","handleElement","handle","initDrag","dragStart$","dragEnd$","drag$","pipe","initialX","initialY","currentX","currentY","dragSub","minBoundX","offsetLeft","minBoundY","offsetTop","maxBoundX","offsetWidth","maxBoundY","offsetHeight","dragStartSub","subscribe","event","clientX","clientY","classList","add","preventDefault","x","y","Math","max","min","emit","style","transform","dragEndSub","remove","unsubscribe","push","apply","ngOnDestroy","forEach","s","undefined","decorators","DraggableComponent","Transform","Boundry","Z","GetAxispoint","ɵcmp","NgStyle","template","styles","BitdraggableModule","ɵmod","ɵinj","declarations","imports","exports"],"mappings":"AAAA,OAAO,KAAKA,EAAZ,MAAoB,eAApB;AACA,SAASC,SAAT,EAAoBC,YAApB,EAAkCC,MAAlC,EAA0CC,MAA1C,EAAkDC,YAAlD,EAAgEC,KAAhE,EAAuEC,SAAvE,EAAkFC,QAAlF,QAAkG,eAAlG;AACA,OAAO,KAAKC,EAAZ,MAAoB,iBAApB;AACA,SAASC,QAAT,EAAmBC,YAAnB,QAAuC,iBAAvC;AACA,SAASC,SAAT,QAA0B,MAA1B;AACA,SAASC,SAAT,QAA0B,gBAA1B;;;AAEA,MAAMC,0BAAN,CAAiC;AAC7BC,EAAAA,WAAW,CAACC,UAAD,EAAa;AACpB,SAAKA,UAAL,GAAkBA,UAAlB;AACH;;AAH4B;;AAKjCF,0BAA0B,CAACG,IAA3B;AAAA,mBAAuHH,0BAAvH,EAA6Gd,EAA7G,mBAAmKA,EAAE,CAACkB,UAAtK;AAAA;;AACAJ,0BAA0B,CAACK,IAA3B,kBAD6GnB,EAC7G;AAAA,QAA2Gc,0BAA3G;AAAA;AAAA;;AACA;AAAA,qDAF6Gd,EAE7G,mBAA2Fc,0BAA3F,EAAmI,CAAC;AACxHM,IAAAA,IAAI,EAAEnB,SADkH;AAExHoB,IAAAA,IAAI,EAAE,CAAC;AACCC,MAAAA,QAAQ,EAAE;AADX,KAAD;AAFkH,GAAD,CAAnI,EAK4B,YAAY;AAAE,WAAO,CAAC;AAAEF,MAAAA,IAAI,EAAEpB,EAAE,CAACkB;AAAX,KAAD,CAAP;AAAmC,GAL7E;AAAA;;AAOA,MAAMK,oBAAN,CAA2B;AACvBR,EAAAA,WAAW,CAACC,UAAD,EAAaQ,QAAb,EAAuB;AAC9B,SAAKR,UAAL,GAAkBA,UAAlB;AACA,SAAKQ,QAAL,GAAgBA,QAAhB;AACA,SAAKC,aAAL,GAAqB,EAArB;AACA,SAAKC,IAAL,GAAY,IAAIxB,YAAJ,EAAZ;AACA,SAAKyB,CAAL,GAAS,CAAT;AACA,SAAKC,CAAL,GAAS,CAAT;AACH;;AACDC,EAAAA,eAAe,GAAG;AACd,QAAIC,EAAJ,EAAQC,EAAR;;AACA,SAAKC,uBAAL,GAA+B,KAAKR,QAAL,CAAcS,aAAd,CAA4B,KAAKC,aAAjC,CAA/B;;AACA,QAAI,CAAC,KAAKF,uBAAV,EAAmC;AAC/B,YAAM,IAAIG,KAAJ,CAAU,2CAA2C,KAAKD,aAA1D,CAAN;AACH,KAFD,MAGK;AACD,WAAKE,OAAL,GAAe,KAAKpB,UAAL,CAAgBqB,aAA/B;AACA,WAAKC,aAAL,GACI,CAAC,CAACP,EAAE,GAAG,CAACD,EAAE,GAAG,KAAKS,MAAX,MAAuB,IAAvB,IAA+BT,EAAE,KAAK,KAAK,CAA3C,GAA+C,KAAK,CAApD,GAAwDA,EAAE,CAACd,UAAjE,MAAiF,IAAjF,IAAyFe,EAAE,KAAK,KAAK,CAArG,GAAyG,KAAK,CAA9G,GAAkHA,EAAE,CAACM,aAAtH,KAAwI,KAAKD,OADjJ;AAEA,WAAKI,QAAL;AACH;AACJ;;AACDA,EAAAA,QAAQ,GAAG;AACP,UAAMC,UAAU,GAAG7B,SAAS,CAAC,KAAK0B,aAAN,EAAqB,WAArB,CAA5B;AACA,UAAMI,QAAQ,GAAG9B,SAAS,CAAC,KAAKY,QAAN,EAAgB,SAAhB,CAA1B;AACA,UAAMmB,KAAK,GAAG/B,SAAS,CAAC,KAAKY,QAAN,EAAgB,WAAhB,CAAT,CAAsCoB,IAAtC,CAA2C/B,SAAS,CAAC6B,QAAD,CAApD,CAAd;AACA,QAAIG,QAAJ;AAAA,QAAcC,QAAd;AAAA,QAAwBC,QAAQ,GAAG,KAAKpB,CAAxC;AAAA,QAA2CqB,QAAQ,GAAG,KAAKpB,CAA3D;AACA,QAAIqB,OAAJ;AACA,UAAMC,SAAS,GAAG,KAAKlB,uBAAL,CAA6BmB,UAA/C;AACA,UAAMC,SAAS,GAAG,KAAKpB,uBAAL,CAA6BqB,SAA/C;AACA,UAAMC,SAAS,GAAGJ,SAAS,GACvB,KAAKlB,uBAAL,CAA6BuB,WADf,GAEd,KAAKnB,OAAL,CAAamB,WAFjB;AAGA,UAAMC,SAAS,GAAGJ,SAAS,GACvB,KAAKpB,uBAAL,CAA6ByB,YADf,GAEd,KAAKrB,OAAL,CAAaqB,YAFjB;AAGA,UAAMC,YAAY,GAAGjB,UAAU,CAACkB,SAAX,CAAsBC,KAAD,IAAW;AACjDf,MAAAA,QAAQ,GAAGe,KAAK,CAACC,OAAN,GAAgBd,QAA3B;AACAD,MAAAA,QAAQ,GAAGc,KAAK,CAACE,OAAN,GAAgBd,QAA3B;AACA,WAAKZ,OAAL,CAAa2B,SAAb,CAAuBC,GAAvB,CAA2B,eAA3B;AACAf,MAAAA,OAAO,GAAGN,KAAK,CAACgB,SAAN,CAAiBC,KAAD,IAAW;AACjCA,QAAAA,KAAK,CAACK,cAAN;AACA,cAAMC,CAAC,GAAGN,KAAK,CAACC,OAAN,GAAgBhB,QAA1B;AACA,cAAMsB,CAAC,GAAGP,KAAK,CAACE,OAAN,GAAgBhB,QAA1B;AACAC,QAAAA,QAAQ,GAAGqB,IAAI,CAACC,GAAL,CAASnB,SAAT,EAAoBkB,IAAI,CAACE,GAAL,CAASJ,CAAT,EAAYZ,SAAZ,CAApB,CAAX;AACAN,QAAAA,QAAQ,GAAGoB,IAAI,CAACC,GAAL,CAASjB,SAAT,EAAoBgB,IAAI,CAACE,GAAL,CAASH,CAAT,EAAYX,SAAZ,CAApB,CAAX;AACA,aAAK9B,IAAL,CAAU6C,IAAV,CAAe;AAAE5C,UAAAA,CAAC,EAAEoB,QAAL;AAAenB,UAAAA,CAAC,EAAEoB;AAAlB,SAAf;AACA,aAAKZ,OAAL,CAAaoC,KAAb,CAAmBC,SAAnB,GACI,iBAAiB1B,QAAjB,GAA4B,MAA5B,GAAqCC,QAArC,GAAgD,QADpD;AAEH,OATS,CAAV;AAUH,KAdoB,CAArB;AAeA,UAAM0B,UAAU,GAAGhC,QAAQ,CAACiB,SAAT,CAAmB,MAAM;AACxCd,MAAAA,QAAQ,GAAGE,QAAX;AACAD,MAAAA,QAAQ,GAAGE,QAAX;AACA,WAAKZ,OAAL,CAAa2B,SAAb,CAAuBY,MAAvB,CAA8B,eAA9B;;AACA,UAAI1B,OAAJ,EAAa;AACTA,QAAAA,OAAO,CAAC2B,WAAR;AACH;AACJ,KAPkB,CAAnB;AAQA,SAAKnD,aAAL,CAAmBoD,IAAnB,CAAwBC,KAAxB,CAA8B,KAAKrD,aAAnC,EAAkD,CAC9CiC,YAD8C,EAE9CT,OAF8C,EAG9CyB,UAH8C,CAAlD;AAKH;;AACDK,EAAAA,WAAW,GAAG;AACV,SAAKtD,aAAL,CAAmBuD,OAAnB,CAA4BC,CAAD,IAAOA,CAAC,KAAK,IAAN,IAAcA,CAAC,KAAK,KAAK,CAAzB,GAA6B,KAAK,CAAlC,GAAsCA,CAAC,CAACL,WAAF,EAAxE;AACH;;AAnEsB;;AAqE3BrD,oBAAoB,CAACN,IAArB;AAAA,mBAAiHM,oBAAjH,EA9E6GvB,EA8E7G,mBAAuJA,EAAE,CAACkB,UAA1J,GA9E6GlB,EA8E7G,mBAAiLU,QAAjL;AAAA;;AACAa,oBAAoB,CAACJ,IAArB,kBA/E6GnB,EA+E7G;AAAA,QAAqGuB,oBAArG;AAAA;AAAA;AAAA;AA/E6GvB,MAAAA,EA+E7G,0BAAsSc,0BAAtS;AAAA;;AAAA;AAAA;;AA/E6Gd,MAAAA,EA+E7G,qBA/E6GA,EA+E7G;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AACA;AAAA,qDAhF6GA,EAgF7G,mBAA2FuB,oBAA3F,EAA6H,CAAC;AAClHH,IAAAA,IAAI,EAAEnB,SAD4G;AAElHoB,IAAAA,IAAI,EAAE,CAAC;AACCC,MAAAA,QAAQ,EAAE;AADX,KAAD;AAF4G,GAAD,CAA7H,EAK4B,YAAY;AAChC,WAAO,CAAC;AAAEF,MAAAA,IAAI,EAAEpB,EAAE,CAACkB;AAAX,KAAD,EAA0B;AAAEE,MAAAA,IAAI,EAAE8D,SAAR;AAAmBC,MAAAA,UAAU,EAAE,CAAC;AACjD/D,QAAAA,IAAI,EAAEjB,MAD2C;AAEjDkB,QAAAA,IAAI,EAAE,CAACX,QAAD;AAF2C,OAAD;AAA/B,KAA1B,CAAP;AAIH,GAVL,EAUuB;AAAEgB,IAAAA,IAAI,EAAE,CAAC;AAChBN,MAAAA,IAAI,EAAEhB;AADU,KAAD,CAAR;AAEPmC,IAAAA,MAAM,EAAE,CAAC;AACTnB,MAAAA,IAAI,EAAEf,YADG;AAETgB,MAAAA,IAAI,EAAE,CAACP,0BAAD;AAFG,KAAD,CAFD;AAKPoB,IAAAA,aAAa,EAAE,CAAC;AAChBd,MAAAA,IAAI,EAAEd;AADU,KAAD,CALR;AAOPqB,IAAAA,CAAC,EAAE,CAAC;AACJP,MAAAA,IAAI,EAAEd;AADF,KAAD,CAPI;AASPsB,IAAAA,CAAC,EAAE,CAAC;AACJR,MAAAA,IAAI,EAAEd;AADF,KAAD;AATI,GAVvB;AAAA;;AAuBA,MAAM8E,kBAAN,CAAyB;AACrBrE,EAAAA,WAAW,GAAG;AACV,SAAKsE,SAAL,GAAiB;AAAEZ,MAAAA,SAAS,EAAE,wBAAb;AAAuC,iBAAW;AAAlD,KAAjB;AACA,SAAKa,OAAL,GAAe,MAAf;AACA,SAAK3D,CAAL,GAAS,CAAT;AACA,SAAKC,CAAL,GAAS,CAAT;AACA,SAAK2D,CAAL,GAAS,CAAT;AACA,SAAK7D,IAAL,GAAY,IAAIxB,YAAJ,EAAZ;AACH;;AACD2B,EAAAA,eAAe,GAAG;AACd,SAAKwD,SAAL,CAAeZ,SAAf,GAA4B,eAAc,KAAK9C,CAAL,GAAS,IAAK,IAAG,KAAKC,CAAL,GAAS,IAAK,KAAzE;AACA,SAAKyD,SAAL,CAAe,SAAf,IAA4B,KAAKE,CAAjC;AACH;;AACDC,EAAAA,YAAY,CAAC5B,KAAD,EAAQ;AAChB,SAAKlC,IAAL,CAAU6C,IAAV,CAAeX,KAAf;AACH;;AAfoB;;AAiBzBwB,kBAAkB,CAACnE,IAAnB;AAAA,mBAA+GmE,kBAA/G;AAAA;;AACAA,kBAAkB,CAACK,IAAnB,kBAzH6GzF,EAyH7G;AAAA,QAAmGoF,kBAAnG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAzH6GpF,MAAAA,EAyH7G;AAzH6GA,MAAAA,EAyHiJ,4BAA9P;AAzH6GA,MAAAA,EAyHkL;AAAA,eAAS,wBAAT;AAAA,QAA/R;AAzH6GA,MAAAA,EAyH2T,gBAAxa;AAzH6GA,MAAAA,EAyHwV,eAArc;AAAA;;AAAA;AAzH6GA,MAAAA,EAyHkN,2FAA/T;AAAA;AAAA;AAAA,eAAifuB,oBAAjf,EAAimBd,EAAE,CAACiF,OAApmB;AAAA;AAAA;;AACA;AAAA,qDA1H6G1F,EA0H7G,mBAA2FoF,kBAA3F,EAA2H,CAAC;AAChHhE,IAAAA,IAAI,EAAEb,SAD0G;AAEhHc,IAAAA,IAAI,EAAE,CAAC;AAAEC,MAAAA,QAAQ,EAAE,eAAZ;AAA6BqE,MAAAA,QAAQ,EAAE,+MAAvC;AAAwPC,MAAAA,MAAM,EAAE,CAAC,EAAD;AAAhQ,KAAD;AAF0G,GAAD,CAA3H,QAG4B;AAAEN,IAAAA,OAAO,EAAE,CAAC;AACxBlE,MAAAA,IAAI,EAAEd;AADkB,KAAD,CAAX;AAEZqB,IAAAA,CAAC,EAAE,CAAC;AACJP,MAAAA,IAAI,EAAEd;AADF,KAAD,CAFS;AAIZsB,IAAAA,CAAC,EAAE,CAAC;AACJR,MAAAA,IAAI,EAAEd;AADF,KAAD,CAJS;AAMZiF,IAAAA,CAAC,EAAE,CAAC;AACJnE,MAAAA,IAAI,EAAEd;AADF,KAAD,CANS;AAQZoB,IAAAA,IAAI,EAAE,CAAC;AACPN,MAAAA,IAAI,EAAEhB;AADC,KAAD;AARM,GAH5B;AAAA;;AAeA,MAAMyF,kBAAN,CAAyB;;AAEzBA,kBAAkB,CAAC5E,IAAnB;AAAA,mBAA+G4E,kBAA/G;AAAA;;AACAA,kBAAkB,CAACC,IAAnB,kBA5I6G9F,EA4I7G;AAAA,QAAgH6F;AAAhH;AAKAA,kBAAkB,CAACE,IAAnB,kBAjJ6G/F,EAiJ7G;AAAA,YAA8I,CAClIW,YADkI,CAA9I;AAAA;;AAGA;AAAA,qDApJ6GX,EAoJ7G,mBAA2F6F,kBAA3F,EAA2H,CAAC;AAChHzE,IAAAA,IAAI,EAAEZ,QAD0G;AAEhHa,IAAAA,IAAI,EAAE,CAAC;AACC2E,MAAAA,YAAY,EAAE,CACVZ,kBADU,EAEV7D,oBAFU,EAGVT,0BAHU,CADf;AAMCmF,MAAAA,OAAO,EAAE,CACLtF,YADK,CANV;AASCuF,MAAAA,OAAO,EAAE,CACLd,kBADK,EAEL7D,oBAFK,EAGLT,0BAHK;AATV,KAAD;AAF0G,GAAD,CAA3H;AAAA;AAmBA;AACA;AACA;;AAEA;AACA;AACA;;;AAEA,SAASS,oBAAT,EAA+BT,0BAA/B,EAA2D+E,kBAA3D,EAA+ET,kBAA/E","sourcesContent":["import * as i0 from '@angular/core';\nimport { Directive, EventEmitter, Inject, Output, ContentChild, Input, Component, NgModule } from '@angular/core';\nimport * as i2 from '@angular/common';\nimport { DOCUMENT, CommonModule } from '@angular/common';\nimport { fromEvent } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\n\nclass BitDraggingHandleDirective {\r\n    constructor(elementRef) {\r\n        this.elementRef = elementRef;\r\n    }\r\n}\r\nBitDraggingHandleDirective.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.0.3\", ngImport: i0, type: BitDraggingHandleDirective, deps: [{ token: i0.ElementRef }], target: i0.ɵɵFactoryTarget.Directive });\r\nBitDraggingHandleDirective.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"12.0.0\", version: \"13.0.3\", type: BitDraggingHandleDirective, selector: \"[dragginghandle]\", ngImport: i0 });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.0.3\", ngImport: i0, type: BitDraggingHandleDirective, decorators: [{\r\n            type: Directive,\r\n            args: [{\r\n                    selector: \"[dragginghandle]\",\r\n                }]\r\n        }], ctorParameters: function () { return [{ type: i0.ElementRef }]; } });\n\nclass BitDraggingDirective {\r\n    constructor(elementRef, document) {\r\n        this.elementRef = elementRef;\r\n        this.document = document;\r\n        this.subscriptions = [];\r\n        this.Axis = new EventEmitter();\r\n        this.X = 0;\r\n        this.Y = 0;\r\n    }\r\n    ngAfterViewInit() {\r\n        var _a, _b;\r\n        this.draggingBoundaryElement = this.document.querySelector(this.boundaryQuery);\r\n        if (!this.draggingBoundaryElement) {\r\n            throw new Error(\"Couldn't find any element with query: \" + this.boundaryQuery);\r\n        }\r\n        else {\r\n            this.element = this.elementRef.nativeElement;\r\n            this.handleElement =\r\n                ((_b = (_a = this.handle) === null || _a === void 0 ? void 0 : _a.elementRef) === null || _b === void 0 ? void 0 : _b.nativeElement) || this.element;\r\n            this.initDrag();\r\n        }\r\n    }\r\n    initDrag() {\r\n        const dragStart$ = fromEvent(this.handleElement, \"mousedown\");\r\n        const dragEnd$ = fromEvent(this.document, \"mouseup\");\r\n        const drag$ = fromEvent(this.document, \"mousemove\").pipe(takeUntil(dragEnd$));\r\n        let initialX, initialY, currentX = this.X, currentY = this.Y;\r\n        let dragSub;\r\n        const minBoundX = this.draggingBoundaryElement.offsetLeft;\r\n        const minBoundY = this.draggingBoundaryElement.offsetTop;\r\n        const maxBoundX = minBoundX +\r\n            this.draggingBoundaryElement.offsetWidth -\r\n            this.element.offsetWidth;\r\n        const maxBoundY = minBoundY +\r\n            this.draggingBoundaryElement.offsetHeight -\r\n            this.element.offsetHeight;\r\n        const dragStartSub = dragStart$.subscribe((event) => {\r\n            initialX = event.clientX - currentX;\r\n            initialY = event.clientY - currentY;\r\n            this.element.classList.add(\"free-dragging\");\r\n            dragSub = drag$.subscribe((event) => {\r\n                event.preventDefault();\r\n                const x = event.clientX - initialX;\r\n                const y = event.clientY - initialY;\r\n                currentX = Math.max(minBoundX, Math.min(x, maxBoundX));\r\n                currentY = Math.max(minBoundY, Math.min(y, maxBoundY));\r\n                this.Axis.emit({ X: currentX, Y: currentY });\r\n                this.element.style.transform =\r\n                    \"translate3d(\" + currentX + \"px, \" + currentY + \"px, 0)\";\r\n            });\r\n        });\r\n        const dragEndSub = dragEnd$.subscribe(() => {\r\n            initialX = currentX;\r\n            initialY = currentY;\r\n            this.element.classList.remove(\"free-dragging\");\r\n            if (dragSub) {\r\n                dragSub.unsubscribe();\r\n            }\r\n        });\r\n        this.subscriptions.push.apply(this.subscriptions, [\r\n            dragStartSub,\r\n            dragSub,\r\n            dragEndSub,\r\n        ]);\r\n    }\r\n    ngOnDestroy() {\r\n        this.subscriptions.forEach((s) => s === null || s === void 0 ? void 0 : s.unsubscribe());\r\n    }\r\n}\r\nBitDraggingDirective.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.0.3\", ngImport: i0, type: BitDraggingDirective, deps: [{ token: i0.ElementRef }, { token: DOCUMENT }], target: i0.ɵɵFactoryTarget.Directive });\r\nBitDraggingDirective.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"12.0.0\", version: \"13.0.3\", type: BitDraggingDirective, selector: \"[dragging]\", inputs: { boundaryQuery: \"boundaryQuery\", X: \"X\", Y: \"Y\" }, outputs: { Axis: \"Axis\" }, queries: [{ propertyName: \"handle\", first: true, predicate: BitDraggingHandleDirective, descendants: true }], ngImport: i0 });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.0.3\", ngImport: i0, type: BitDraggingDirective, decorators: [{\r\n            type: Directive,\r\n            args: [{\r\n                    selector: \"[dragging]\",\r\n                }]\r\n        }], ctorParameters: function () {\r\n        return [{ type: i0.ElementRef }, { type: undefined, decorators: [{\r\n                        type: Inject,\r\n                        args: [DOCUMENT]\r\n                    }] }];\r\n    }, propDecorators: { Axis: [{\r\n                type: Output\r\n            }], handle: [{\r\n                type: ContentChild,\r\n                args: [BitDraggingHandleDirective]\r\n            }], boundaryQuery: [{\r\n                type: Input\r\n            }], X: [{\r\n                type: Input\r\n            }], Y: [{\r\n                type: Input\r\n            }] } });\n\nclass DraggableComponent {\r\n    constructor() {\r\n        this.Transform = { transform: 'translate3d(0px,0px,0)', 'z-index': 0 };\r\n        this.Boundry = \"body\";\r\n        this.X = 0;\r\n        this.Y = 0;\r\n        this.Z = 0;\r\n        this.Axis = new EventEmitter();\r\n    }\r\n    ngAfterViewInit() {\r\n        this.Transform.transform = `translate3d(${this.X + 'px'},${this.Y + 'px'},0)`;\r\n        this.Transform['z-index'] = this.Z;\r\n    }\r\n    GetAxispoint(event) {\r\n        this.Axis.emit(event);\r\n    }\r\n}\r\nDraggableComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.0.3\", ngImport: i0, type: DraggableComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\r\nDraggableComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.0.3\", type: DraggableComponent, selector: \"Bit-draggable\", inputs: { Boundry: \"Boundry\", X: \"X\", Y: \"Y\", Z: \"Z\" }, outputs: { Axis: \"Axis\" }, ngImport: i0, template: \"<div dragging draggable=\\\"true\\\" (Axis)=\\\"GetAxispoint($event)\\\" [X]=\\\"X\\\" [Y]=\\\"Y\\\" [boundaryQuery]=\\\"Boundry\\\" [ngStyle]=\\\"Transform\\\" style=\\\"position: absolute;\\\">\\n <ng-content></ng-content>\\n  </div>\", styles: [\"\"], directives: [{ type: BitDraggingDirective, selector: \"[dragging]\", inputs: [\"boundaryQuery\", \"X\", \"Y\"], outputs: [\"Axis\"] }, { type: i2.NgStyle, selector: \"[ngStyle]\", inputs: [\"ngStyle\"] }] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.0.3\", ngImport: i0, type: DraggableComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'Bit-draggable', template: \"<div dragging draggable=\\\"true\\\" (Axis)=\\\"GetAxispoint($event)\\\" [X]=\\\"X\\\" [Y]=\\\"Y\\\" [boundaryQuery]=\\\"Boundry\\\" [ngStyle]=\\\"Transform\\\" style=\\\"position: absolute;\\\">\\n <ng-content></ng-content>\\n  </div>\", styles: [\"\"] }]\r\n        }], propDecorators: { Boundry: [{\r\n                type: Input\r\n            }], X: [{\r\n                type: Input\r\n            }], Y: [{\r\n                type: Input\r\n            }], Z: [{\r\n                type: Input\r\n            }], Axis: [{\r\n                type: Output\r\n            }] } });\n\nclass BitdraggableModule {\r\n}\r\nBitdraggableModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.0.3\", ngImport: i0, type: BitdraggableModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\nBitdraggableModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.0.3\", ngImport: i0, type: BitdraggableModule, declarations: [DraggableComponent,\r\n        BitDraggingDirective,\r\n        BitDraggingHandleDirective], imports: [CommonModule], exports: [DraggableComponent,\r\n        BitDraggingDirective,\r\n        BitDraggingHandleDirective] });\r\nBitdraggableModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.0.3\", ngImport: i0, type: BitdraggableModule, imports: [[\r\n            CommonModule\r\n        ]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.0.3\", ngImport: i0, type: BitdraggableModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    declarations: [\r\n                        DraggableComponent,\r\n                        BitDraggingDirective,\r\n                        BitDraggingHandleDirective\r\n                    ],\r\n                    imports: [\r\n                        CommonModule\r\n                    ],\r\n                    exports: [\r\n                        DraggableComponent,\r\n                        BitDraggingDirective,\r\n                        BitDraggingHandleDirective\r\n                    ]\r\n                }]\r\n        }] });\n\n/*\r\n * Public API Surface of bitdraggable\r\n */\n\n/**\r\n * Generated bundle index. Do not edit.\r\n */\n\nexport { BitDraggingDirective, BitDraggingHandleDirective, BitdraggableModule, DraggableComponent };\n"]},"metadata":{},"sourceType":"module"}